import os
import cv2
import mediapipe as mp
# initialize Pose estimator
mp_drawing = mp.solutions.drawing_utils
mp_pose = mp.solutions.pose

pose = mp_pose.Pose(
    min_detection_confidence=0.5,
    min_tracking_confidence=0.5)

cap = cv2.VideoCapture(1)
framecnt=0

from dollarpy import Recognizer, Template, Point
L_circle = Template('L_circle', [
Point(-5, 340, 1),
Point(305, 340, 1),
Point(-8, 340, 1),
Point(311, 273, 1),
Point(-12, 340, 1),
Point(298, 249, 1),
Point(-1, 331, 1),
Point(292, 223, 1),
Point(10, 316, 1),
Point(294, 212, 1),
Point(30, 319, 1),
Point(292, 207, 1),
Point(47, 316, 1),
Point(293, 205, 1),
Point(47, 317, 1),
Point(293, 202, 1),
Point(41, 327, 1),
Point(295, 203, 1),
Point(44, 339, 1),
Point(297, 202, 1),
Point(44, 342, 1),
Point(298, 202, 1),
Point(45, 342, 1),
Point(299, 202, 1),
Point(44, 355, 1),
Point(299, 203, 1),
Point(46, 360, 1),
Point(299, 203, 1),
Point(49, 359, 1),
Point(297, 206, 1),
Point(48, 357, 1),
Point(294, 204, 1),
Point(48, 358, 1),
Point(294, 189, 1),
Point(52, 357, 1),
Point(365, 195, 1),
Point(54, 356, 1),
Point(318, 148, 1),
Point(53, 355, 1),
Point(314, 128, 1),
Point(52, 355, 1),
Point(315, 109, 1),
Point(53, 350, 1),
Point(321, 104, 1),
Point(53, 354, 1),
Point(337, 102, 1),
Point(57, 360, 1),
Point(349, 114, 1),
Point(58, 363, 1),
Point(359, 125, 1),
Point(58, 362, 1),
Point(366, 143, 1),
Point(57, 350, 1),
Point(371, 164, 1),
Point(57, 346, 1),
Point(372, 186, 1),
Point(57, 345, 1),
Point(370, 204, 1),
Point(60, 344, 1),
Point(364, 225, 1),
Point(63, 343, 1),
Point(357, 239, 1),
Point(64, 343, 1),
Point(347, 252, 1),
Point(68, 349, 1),
Point(333, 250, 1),
Point(70, 350, 1),
Point(318, 237, 1),
Point(70, 348, 1),
Point(307, 250, 1),
Point(69, 337, 1),
Point(297, 256, 1),
Point(69, 333, 1),
Point(285, 245, 1),
Point(64, 335, 1),
Point(282, 245, 1),
Point(61, 336, 1),
Point(283, 228, 1),
Point(60, 340, 1),
Point(288, 212, 1),
Point(59, 336, 1),
Point(292, 195, 1),
Point(59, 335, 1),
Point(292, 187, 1),
Point(55, 335, 1),
Point(301, 185, 1),
Point(50, 325, 1),
Point(306, 185, 1),
Point(29, 321, 1),
Point(307, 185, 1),
Point(8, 322, 1),
Point(307, 186, 1),
Point(-15, 337, 1),
Point(307, 186, 1),
Point(-18, 341, 1),
Point(307, 188, 1),
Point(-18, 345, 1),
Point(307, 187, 1),
Point(-16, 344, 1),
Point(307, 185, 1),
Point(-14, 346, 1),
Point(307, 184, 1),
Point(-16, 345, 1),
Point(307, 184, 1),
])
L_square = Template('L_square', [
Point(-16, 349, 1),
Point(307, 202, 1),
Point(-18, 350, 1),
Point(307, 206, 1),
Point(-19, 350, 1),
Point(306, 208, 1),
Point(-21, 349, 1),
Point(306, 209, 1),
Point(-22, 349, 1),
Point(306, 209, 1),
Point(-23, 350, 1),
Point(306, 209, 1),
Point(-24, 350, 1),
Point(306, 208, 1),
Point(-23, 351, 1),
Point(305, 202, 1),
Point(-24, 351, 1),
Point(315, 187, 1),
Point(-24, 351, 1),
Point(314, 166, 1),
Point(-23, 350, 1),
Point(309, 150, 1),
Point(-23, 351, 1),
Point(305, 143, 1),
Point(-23, 351, 1),
Point(304, 143, 1),
Point(-23, 350, 1),
Point(304, 144, 1),
Point(-23, 349, 1),
Point(304, 145, 1),
Point(-22, 349, 1),
Point(304, 142, 1),
Point(-21, 349, 1),
Point(315, 145, 1),
Point(-20, 349, 1),
Point(324, 143, 1),
Point(-19, 349, 1),
Point(336, 145, 1),
Point(-17, 348, 1),
Point(349, 146, 1),
Point(-15, 346, 1),
Point(356, 143, 1),
Point(-15, 346, 1),
Point(363, 139, 1),
Point(-16, 346, 1),
Point(369, 141, 1),
Point(-16, 345, 1),
Point(376, 142, 1),
Point(-15, 342, 1),
Point(382, 143, 1),
Point(-16, 341, 1),
Point(384, 143, 1),
Point(-16, 340, 1),
Point(385, 144, 1),
Point(-16, 340, 1),
Point(386, 144, 1),
Point(-17, 340, 1),
Point(388, 145, 1),
Point(-17, 340, 1),
Point(388, 152, 1),
Point(-17, 340, 1),
Point(387, 170, 1),
Point(-16, 340, 1),
Point(387, 184, 1),
Point(-14, 339, 1),
Point(386, 208, 1),
Point(-13, 339, 1),
Point(386, 229, 1),
Point(-13, 339, 1),
Point(382, 249, 1),
Point(-13, 339, 1),
Point(378, 257, 1),
Point(-13, 339, 1),
Point(375, 263, 1),
Point(-13, 339, 1),
Point(374, 265, 1),
Point(-13, 339, 1),
Point(372, 263, 1),
Point(-13, 339, 1),
Point(370, 265, 1),
Point(-13, 339, 1),
Point(362, 261, 1),
Point(-12, 339, 1),
Point(362, 255, 1),
Point(-9, 339, 1),
Point(360, 260, 1),
Point(-9, 339, 1),
Point(360, 252, 1),
Point(-9, 339, 1),
Point(347, 230, 1),
Point(-9, 339, 1),
Point(311, 275, 1),
Point(-12, 339, 1),
Point(305, 283, 1),
Point(-13, 339, 1),
Point(303, 287, 1),
Point(-13, 339, 1),
Point(297, 284, 1),
Point(-14, 339, 1),
Point(297, 284, 1),
Point(-14, 339, 1),
Point(292, 282, 1),
Point(-14, 338, 1),
Point(291, 278, 1),
Point(-16, 338, 1),
Point(279, 224, 1),
Point(-16, 339, 1),
Point(318, 217, 1),
Point(-15, 339, 1),
Point(324, 199, 1),
Point(-15, 339, 1),
Point(325, 185, 1),
Point(-16, 340, 1),
Point(324, 169, 1),
Point(-16, 340, 1),
Point(323, 160, 1),
Point(-15, 340, 1),
Point(320, 153, 1),
Point(-15, 340, 1),
Point(320, 154, 1),
Point(-15, 340, 1),
Point(317, 154, 1),
Point(-15, 340, 1),
Point(316, 153, 1),
Point(-14, 341, 1),
Point(312, 151, 1),
Point(-14, 341, 1),
Point(308, 148, 1),
])
L_triangle = Template('L_triangle', [
Point(-14, 343, 1),
Point(313, 144, 1),
Point(-14, 343, 1),
Point(317, 144, 1),
Point(-13, 343, 1),
Point(319, 144, 1),
Point(-13, 343, 1),
Point(322, 143, 1),
Point(-13, 343, 1),
Point(324, 143, 1),
Point(-13, 343, 1),
Point(327, 143, 1),
Point(-13, 343, 1),
Point(326, 141, 1),
Point(-14, 342, 1),
Point(326, 142, 1),
Point(-14, 342, 1),
Point(328, 143, 1),
Point(-14, 342, 1),
Point(330, 144, 1),
Point(-14, 342, 1),
Point(337, 148, 1),
Point(-14, 343, 1),
Point(351, 169, 1),
Point(-14, 343, 1),
Point(356, 180, 1),
Point(-14, 343, 1),
Point(371, 203, 1),
Point(-14, 342, 1),
Point(376, 221, 1),
Point(-13, 341, 1),
Point(383, 239, 1),
Point(-12, 341, 1),
Point(380, 258, 1),
Point(-12, 340, 1),
Point(380, 261, 1),
Point(-11, 340, 1),
Point(380, 259, 1),
Point(-11, 339, 1),
Point(380, 259, 1),
Point(-11, 338, 1),
Point(380, 258, 1),
Point(-10, 338, 1),
Point(378, 253, 1),
Point(-10, 338, 1),
Point(377, 251, 1),
Point(-7, 338, 1),
Point(377, 247, 1),
Point(-1, 339, 1),
Point(343, 284, 1),
Point(-2, 337, 1),
Point(316, 283, 1),
Point(-2, 336, 1),
Point(296, 285, 1),
Point(-2, 336, 1),
Point(287, 285, 1),
Point(-4, 336, 1),
Point(284, 287, 1),
Point(-4, 336, 1),
Point(283, 288, 1),
Point(-4, 336, 1),
Point(283, 288, 1),
Point(-5, 337, 1),
Point(282, 288, 1),
Point(-7, 338, 1),
Point(280, 289, 1),
Point(-4, 338, 1),
Point(278, 288, 1),
Point(-9, 341, 1),
Point(280, 274, 1),
Point(-10, 341, 1),
Point(279, 232, 1),
Point(-11, 341, 1),
Point(279, 210, 1),
Point(-12, 342, 1),
Point(301, 186, 1),
Point(-13, 342, 1),
Point(300, 167, 1),
Point(-12, 338, 1),
Point(300, 158, 1),
Point(-14, 338, 1),
Point(299, 154, 1),
Point(-15, 337, 1),
Point(299, 150, 1),
Point(-15, 337, 1),
Point(298, 150, 1),
Point(-16, 337, 1),
Point(298, 150, 1),
Point(-18, 337, 1),
Point(299, 151, 1),
Point(-18, 338, 1),
Point(299, 150, 1),
Point(-18, 340, 1),
Point(300, 152, 1),
Point(-18, 340, 1),
Point(301, 153, 1),
])
R_circle = Template('R_circle', [
Point(-11, 342, 1),
Point(341, 379, 1),
Point(-5, 336, 1),
Point(339, 390, 1),
Point(13, 328, 1),
Point(338, 378, 1),
Point(42, 316, 1),
Point(337, 378, 1),
Point(104, 279, 1),
Point(334, 366, 1),
Point(121, 288, 1),
Point(328, 364, 1),
Point(135, 280, 1),
Point(327, 354, 1),
Point(132, 257, 1),
Point(328, 362, 1),
Point(138, 231, 1),
Point(328, 373, 1),
Point(149, 213, 1),
Point(327, 383, 1),
Point(148, 207, 1),
Point(328, 386, 1),
Point(146, 202, 1),
Point(328, 393, 1),
Point(141, 199, 1),
Point(329, 392, 1),
Point(139, 197, 1),
Point(329, 391, 1),
Point(138, 196, 1),
Point(329, 388, 1),
Point(136, 196, 1),
Point(329, 387, 1),
Point(136, 196, 1),
Point(329, 387, 1),
Point(136, 195, 1),
Point(329, 388, 1),
Point(135, 196, 1),
Point(330, 389, 1),
Point(135, 197, 1),
Point(331, 390, 1),
Point(135, 196, 1),
Point(331, 391, 1),
Point(136, 197, 1),
Point(332, 391, 1),
Point(138, 194, 1),
Point(332, 391, 1),
Point(138, 183, 1),
Point(333, 391, 1),
Point(129, 179, 1),
Point(333, 391, 1),
Point(126, 169, 1),
Point(334, 387, 1),
Point(124, 147, 1),
Point(333, 379, 1),
Point(118, 141, 1),
Point(332, 378, 1),
Point(109, 137, 1),
Point(331, 378, 1),
Point(98, 138, 1),
Point(331, 378, 1),
Point(87, 147, 1),
Point(331, 377, 1),
Point(84, 162, 1),
Point(331, 377, 1),
Point(81, 179, 1),
Point(331, 377, 1),
Point(78, 193, 1),
Point(331, 377, 1),
Point(81, 206, 1),
Point(331, 377, 1),
Point(84, 228, 1),
Point(331, 377, 1),
Point(94, 239, 1),
Point(331, 376, 1),
Point(107, 244, 1),
Point(331, 376, 1),
Point(119, 235, 1),
Point(330, 376, 1),
Point(131, 253, 1),
Point(330, 376, 1),
Point(132, 253, 1),
Point(331, 376, 1),
Point(135, 248, 1),
Point(332, 376, 1),
Point(132, 242, 1),
Point(334, 377, 1),
Point(131, 237, 1),
Point(333, 376, 1),
Point(131, 223, 1),
Point(331, 376, 1),
Point(134, 212, 1),
Point(329, 380, 1),
Point(135, 210, 1),
Point(327, 382, 1),
Point(135, 210, 1),
Point(326, 384, 1),
Point(135, 210, 1),
Point(325, 385, 1),
Point(135, 210, 1),
Point(323, 385, 1),
Point(135, 210, 1),
Point(322, 385, 1),
Point(135, 210, 1),
Point(322, 386, 1),
Point(135, 211, 1),
Point(322, 386, 1),
Point(134, 211, 1),
Point(323, 386, 1),
Point(134, 211, 1),
Point(323, 386, 1),
Point(133, 212, 1),
Point(324, 387, 1),
Point(123, 224, 1),
Point(324, 386, 1),
Point(119, 238, 1),
Point(326, 386, 1),
Point(28, 317, 1),
Point(331, 383, 1),
Point(4, 347, 1),
Point(332, 383, 1),
Point(3, 351, 1),
Point(335, 383, 1),
Point(1, 352, 1),
Point(336, 384, 1),
Point(-10, 342, 1),
Point(338, 386, 1),
Point(-13, 341, 1),
Point(341, 388, 1),
Point(-11, 343, 1),
Point(343, 389, 1),
Point(-12, 341, 1),
Point(344, 389, 1),
Point(-13, 345, 1),
Point(344, 389, 1),
Point(-15, 348, 1),
Point(343, 390, 1),
Point(-14, 348, 1),
Point(344, 393, 1),
])
R_square = Template('R_square', [
Point(-13, 348, 1),
Point(326, 393, 1),
Point(-13, 346, 1),
Point(325, 393, 1),
Point(-10, 332, 1),
Point(322, 393, 1),
Point(15, 329, 1),
Point(320, 393, 1),
Point(118, 250, 1),
Point(316, 382, 1),
Point(143, 229, 1),
Point(318, 378, 1),
Point(150, 220, 1),
Point(319, 379, 1),
Point(154, 214, 1),
Point(319, 380, 1),
Point(156, 213, 1),
Point(320, 374, 1),
Point(155, 212, 1),
Point(319, 374, 1),
Point(154, 213, 1),
Point(319, 375, 1),
Point(154, 211, 1),
Point(318, 375, 1),
Point(154, 206, 1),
Point(317, 372, 1),
Point(150, 199, 1),
Point(317, 358, 1),
Point(146, 188, 1),
Point(317, 361, 1),
Point(143, 170, 1),
Point(317, 363, 1),
Point(148, 160, 1),
Point(317, 364, 1),
Point(152, 153, 1),
Point(317, 365, 1),
Point(151, 153, 1),
Point(318, 364, 1),
Point(149, 155, 1),
Point(320, 363, 1),
Point(148, 157, 1),
Point(320, 361, 1),
Point(147, 156, 1),
Point(321, 362, 1),
Point(142, 157, 1),
Point(320, 361, 1),
Point(132, 154, 1),
Point(320, 358, 1),
Point(120, 153, 1),
Point(320, 358, 1),
Point(110, 151, 1),
Point(320, 358, 1),
Point(99, 151, 1),
Point(319, 358, 1),
Point(92, 152, 1),
Point(316, 359, 1),
Point(83, 158, 1),
Point(313, 362, 1),
Point(77, 163, 1),
Point(312, 368, 1),
Point(74, 165, 1),
Point(312, 371, 1),
Point(73, 167, 1),
Point(312, 374, 1),
Point(73, 168, 1),
Point(312, 379, 1),
Point(72, 171, 1),
Point(312, 383, 1),
Point(71, 176, 1),
Point(312, 384, 1),
Point(68, 185, 1),
Point(313, 385, 1),
Point(68, 191, 1),
Point(313, 385, 1),
Point(69, 198, 1),
Point(312, 387, 1),
Point(71, 213, 1),
Point(312, 388, 1),
Point(71, 228, 1),
Point(313, 387, 1),
Point(72, 238, 1),
Point(315, 387, 1),
Point(71, 251, 1),
Point(317, 386, 1),
Point(70, 255, 1),
Point(320, 386, 1),
Point(69, 258, 1),
Point(320, 386, 1),
Point(73, 250, 1),
Point(320, 386, 1),
Point(81, 243, 1),
Point(320, 385, 1),
Point(86, 255, 1),
Point(319, 377, 1),
Point(92, 265, 1),
Point(319, 374, 1),
Point(103, 261, 1),
Point(316, 368, 1),
Point(110, 261, 1),
Point(315, 363, 1),
Point(115, 259, 1),
Point(314, 364, 1),
Point(118, 249, 1),
Point(314, 366, 1),
Point(132, 254, 1),
Point(312, 356, 1),
Point(138, 258, 1),
Point(311, 355, 1),
Point(139, 267, 1),
Point(312, 357, 1),
Point(142, 270, 1),
Point(312, 355, 1),
Point(142, 272, 1),
Point(312, 355, 1),
Point(142, 272, 1),
Point(312, 356, 1),
Point(142, 272, 1),
Point(312, 356, 1),
Point(142, 273, 1),
Point(312, 355, 1),
Point(142, 273, 1),
Point(313, 357, 1),
Point(144, 272, 1),
Point(313, 355, 1),
Point(144, 271, 1),
Point(313, 356, 1),
Point(144, 270, 1),
Point(313, 356, 1),
Point(141, 263, 1),
Point(316, 360, 1),
Point(139, 246, 1),
Point(322, 369, 1),
Point(135, 240, 1),
Point(324, 372, 1),
Point(132, 230, 1),
Point(324, 374, 1),
Point(130, 218, 1),
Point(323, 373, 1),
Point(131, 201, 1),
Point(321, 373, 1),
Point(131, 196, 1),
Point(320, 375, 1),
Point(131, 195, 1),
Point(318, 374, 1),
Point(132, 195, 1),
Point(317, 374, 1),
Point(133, 195, 1),
Point(316, 374, 1),
Point(133, 195, 1),
Point(314, 374, 1),
Point(133, 194, 1),
Point(313, 373, 1),
Point(133, 195, 1),
Point(313, 375, 1),
Point(130, 195, 1),
Point(314, 376, 1),
Point(109, 214, 1),
Point(315, 375, 1),
Point(63, 281, 1),
Point(318, 373, 1),
Point(19, 330, 1),
Point(321, 373, 1),
Point(6, 344, 1),
Point(322, 373, 1),
Point(6, 341, 1),
Point(322, 373, 1),
Point(9, 340, 1),
Point(322, 374, 1),
Point(7, 343, 1),
Point(322, 377, 1),
Point(10, 339, 1),
Point(322, 379, 1),
Point(7, 339, 1),
Point(322, 382, 1),
Point(7, 338, 1),
Point(323, 384, 1),
])
R_triangle = Template('R_triangle', [
Point(-6, 342, 1),
Point(343, 383, 1),
Point(-4, 343, 1),
Point(351, 382, 1),
Point(8, 337, 1),
Point(345, 377, 1),
Point(99, 225, 1),
Point(347, 377, 1),
Point(119, 191, 1),
Point(360, 377, 1),
Point(129, 173, 1),
Point(363, 376, 1),
Point(139, 143, 1),
Point(362, 373, 1),
Point(137, 134, 1),
Point(359, 370, 1),
Point(133, 134, 1),
Point(358, 369, 1),
Point(131, 131, 1),
Point(358, 369, 1),
Point(129, 128, 1),
Point(358, 369, 1),
Point(130, 125, 1),
Point(357, 369, 1),
Point(130, 123, 1),
Point(357, 369, 1),
Point(129, 123, 1),
Point(357, 370, 1),
Point(129, 122, 1),
Point(357, 370, 1),
Point(129, 123, 1),
Point(357, 370, 1),
Point(129, 123, 1),
Point(357, 370, 1),
Point(129, 124, 1),
Point(357, 370, 1),
Point(130, 128, 1),
Point(356, 370, 1),
Point(118, 180, 1),
Point(357, 370, 1),
Point(114, 211, 1),
Point(357, 373, 1),
Point(138, 223, 1),
Point(359, 374, 1),
Point(159, 227, 1),
Point(359, 374, 1),
Point(161, 234, 1),
Point(359, 373, 1),
Point(160, 236, 1),
Point(359, 369, 1),
Point(160, 236, 1),
Point(360, 368, 1),
Point(160, 236, 1),
Point(361, 368, 1),
Point(161, 235, 1),
Point(362, 368, 1),
Point(158, 237, 1),
Point(363, 367, 1),
Point(144, 239, 1),
Point(365, 369, 1),
Point(129, 242, 1),
Point(365, 369, 1),
Point(118, 244, 1),
Point(364, 373, 1),
Point(110, 240, 1),
Point(363, 376, 1),
Point(99, 239, 1),
Point(363, 377, 1),
Point(91, 238, 1),
Point(363, 377, 1),
Point(88, 238, 1),
Point(362, 377, 1),
Point(87, 238, 1),
Point(362, 377, 1),
Point(88, 238, 1),
Point(362, 377, 1),
Point(88, 238, 1),
Point(362, 377, 1),
Point(87, 238, 1),
Point(362, 377, 1),
Point(86, 237, 1),
Point(362, 377, 1),
Point(85, 224, 1),
Point(362, 377, 1),
Point(84, 213, 1),
Point(363, 376, 1),
Point(86, 198, 1),
Point(363, 376, 1),
Point(86, 178, 1),
Point(363, 376, 1),
Point(89, 162, 1),
Point(363, 376, 1),
Point(92, 146, 1),
Point(363, 376, 1),
Point(93, 138, 1),
Point(362, 375, 1),
Point(94, 138, 1),
Point(361, 374, 1),
Point(96, 137, 1),
Point(361, 372, 1),
Point(96, 137, 1),
Point(361, 372, 1),
Point(96, 137, 1),
Point(361, 372, 1),
Point(97, 137, 1),
Point(361, 370, 1),
Point(97, 137, 1),
Point(361, 370, 1),
Point(97, 137, 1),
Point(361, 370, 1),
Point(97, 137, 1),
Point(361, 370, 1),
Point(98, 137, 1),
Point(361, 370, 1),
Point(96, 140, 1),
Point(361, 370, 1),
Point(63, 223, 1),
Point(358, 367, 1),
Point(40, 254, 1),
Point(358, 367, 1),
Point(1, 322, 1),
Point(358, 367, 1),
Point(-9, 339, 1),
Point(358, 370, 1),
Point(-14, 337, 1),
Point(358, 370, 1),
Point(-12, 343, 1),
Point(358, 369, 1),
Point(-12, 343, 1),
Point(358, 369, 1),
Point(-11, 347, 1),
Point(358, 372, 1),
])
recognizer = Recognizer([L_circle, L_square, L_triangle, R_circle, R_square, R_triangle])



Allpoints=[]









while cap.isOpened():
    # read frame from capture object
    ret, frame = cap.read()
    if not ret:
        print("Can't receive frame (stream end?). Exiting ...")
        break
    frame = cv2.resize(frame, (480, 320))
    framecnt+=1
    try:
        # convert the frame to RGB format
        RGB = cv2.cvtColor(frame, cv2.COLOR_BGR2RGB)
        #print (framecnt)
        # process the RGB frame to get the result
        results = pose.process(RGB)
            # Loop through the detected poses to visualize.
        #for idx, landmark in enumerate(results.pose_landmarks.landmark):
            #print(f"{mp_pose.PoseLandmark(idx).name}: (x: {landmark.x}, y: {landmark.y}, z: {landmark.z})")
        
            # Print nose landmark.
        image_hight, image_width, _ = frame.shape
        x=(int(results.pose_landmarks.landmark[mp_pose.PoseLandmark.RIGHT_WRIST].x * image_width))
        y=(int(results.pose_landmarks.landmark[mp_pose.PoseLandmark.RIGHT_WRIST].y * image_hight))
        
        Allpoints.append(Point(x,y,1))
        x=(int(results.pose_landmarks.landmark[mp_pose.PoseLandmark.LEFT_WRIST].x * image_width))
        y=(int(results.pose_landmarks.landmark[mp_pose.PoseLandmark.LEFT_WRIST].y * image_hight))
        
        Allpoints.append(Point(x,y,1))

        if framecnt%23==0:
              framecnt=0
              #print (Allpoints)
              result = recognizer.recognize(Allpoints)
              print (result)
              Allpoints.clear()  
        
        mp_drawing.draw_landmarks(frame, results.pose_landmarks, mp_pose.POSE_CONNECTIONS)
        # show the final output
        cv2.imshow('Output', frame)
        
    except:
            #break
            print ('Camera Error')
    if cv2.waitKey(1) == ord('q'):
            break

cap.release()
cv2.destroyAllWindows()